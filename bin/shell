#!/usr/bin/env python

from freight.config import create_app

app = create_app()
app_context = app.app_context()
app_context.push()

namespace = {"app": app}
banner = "Freight"

try:
    try:
        from IPython.frontend.terminal.embed import InteractiveShellEmbed

        sh = InteractiveShellEmbed.instance(banner1=banner)
    except ImportError:
        from IPython.Shell import IPShellEmbed

        sh = IPShellEmbed(banner=banner)
except ImportError:
    from code import interact

    interact(banner, local=namespace)
else:
    sh(local_ns=namespace)
